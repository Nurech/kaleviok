<div class="flex w-full justify-center pb-3">
  <div class="max-w-xl flex-col">
    <div class="flex justify-center py-4 text-xl">
      <h1>{{ 'register_your_account' | translate }}</h1>
    </div>

    <div>
      <mat-form-field class="w-full pb-1">
        <mat-label>{{ 'enter_your_email' | translate }}</mat-label>
        <input matInput placeholder="jaan.jalgratas@example.com" [formControl]="email" type="email" required />
        <mat-icon matSuffix>email</mat-icon>
        @if (email.invalid) {
          <mat-error>{{ emailErrorMessage() }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="w-full pb-1">
        <mat-label>{{ 'enter_your_password' | translate }}</mat-label>
        <input matInput [formControl]="password" [type]="hidePassword() ? 'password' : 'text'" required />
        <button
          mat-icon-button
          matSuffix
          (click)="togglePasswordVisibility()"
          [attr.aria-label]="hidePassword() ? 'Show password' : 'Hide password'"
        >
          <mat-icon>{{ hidePassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        @if (password.invalid) {
          <mat-error>{{ passwordErrorMessage() }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="w-full pb-1">
        <mat-label>{{ 'confirm_your_password' | translate }}</mat-label>
        <input matInput [formControl]="confirmPassword" [type]="hideConfirmPassword() ? 'password' : 'text'" required />
        <button
          mat-icon-button
          matSuffix
          (click)="toggleConfirmPasswordVisibility()"
          [attr.aria-label]="hideConfirmPassword() ? 'Show password' : 'Hide password'"
        >
          <mat-icon>{{ hideConfirmPassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        @if (confirmPassword.invalid || !passwordsMatch()) {
          <mat-error>{{ confirmPasswordErrorMessage() }}</mat-error>
        }
      </mat-form-field>
    </div>

    <button mat-raised-button color="primary" class="w-full" (click)="registerWithEmail()" [disabled]="!canRegister()">
      {{ 'register' | translate }}
    </button>

    <div class="flex flex-row items-center justify-center py-3">
      <mat-divider class="w-full"></mat-divider>
      <span class="flex w-full justify-center whitespace-nowrap px-2 text-center text-sm opacity-60">
        {{ 'or_use_other_provider' | translate }}
      </span>
      <mat-divider class="w-full"></mat-divider>
    </div>

    <div class="flex justify-center">
      <button mat-raised-button color="primary" (click)="registerWithGoogle()">
        <mat-icon svgIcon="google_logo"></mat-icon>
        {{ 'register_with_google' | translate }}
      </button>
    </div>
  </div>
</div>
