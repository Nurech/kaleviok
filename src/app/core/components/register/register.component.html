<div class="flex w-full justify-center p-4">
  <div class="max-w-xl flex-col">
    <div class="flex justify-center py-4 text-xl">
      <h1>{{ 'register_your_account' | translate }}</h1>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <mat-form-field class="w-full pb-1">
        <mat-label>{{ 'enter_your_email' | translate }}</mat-label>
        <input matInput placeholder="jaan.jalgratas@example.com" formControlName="email" type="email" required />
        <mat-icon matSuffix>email</mat-icon>
        <mat-error *ngIf="registerForm.get('email')?.invalid">
          <mat-icon>error</mat-icon>
          {{ emailErrorMessage() }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="w-full pb-1">
        <mat-label>{{ 'enter_your_password' | translate }}</mat-label>
        <input matInput formControlName="password" [type]="hidePassword() ? 'password' : 'text'" required />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="hidePassword.set(!hidePassword())"
          [attr.aria-label]="hidePassword() ? 'Show password' : 'Hide password'"
        >
          <mat-icon>{{ hidePassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('password')?.invalid">
          <mat-icon>error</mat-icon>
          {{ passwordErrorMessage() }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="w-full pb-1">
        <mat-label>{{ 'confirm_your_password' | translate }}</mat-label>
        <input matInput formControlName="confirmPassword" [type]="hidePassword() ? 'password' : 'text'" required />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="hidePassword.set(!hidePassword())"
          [attr.aria-label]="hidePassword() ? 'Show password' : 'Hide password'"
        >
          <mat-icon>{{ hidePassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('confirmPassword')?.invalid || registerForm.errors?.['mustMatch']">
          <mat-icon>error</mat-icon>
          {{ confirmPasswordErrorMessage() }}
        </mat-error>
      </mat-form-field>

      <button mat-stroked-button color="primary" class="w-full" type="submit" [disabled]="!registerForm.valid">
        {{ 'register' | translate }}
      </button>
    </form>

    <div class="flex flex-row items-center justify-center py-3">
      <mat-divider class="w-full"></mat-divider>
      <span class="flex w-full justify-center whitespace-nowrap px-2 text-center text-sm opacity-60">
        {{ 'or_use_other_provider' | translate }}
      </span>
      <mat-divider class="w-full"></mat-divider>
    </div>

    <div class="flex justify-center">
      <button mat-stroked-button color="primary" (click)="registerWithGoogle()">
        <mat-icon svgIcon="google_logo"></mat-icon>
        {{ 'register_with_google' | translate }}
      </button>
    </div>
  </div>
</div>
